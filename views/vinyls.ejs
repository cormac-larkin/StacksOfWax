<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="../globals.css" />
    <link rel="stylesheet" href="../navbar.css" />
    <link rel="stylesheet" href="../vinyls.css" />
    <title>Browse Vinyls</title>
  </head>
  <body>
    <%- include("./partials/navbar") %>

    <div class="flex-container">
      <main class="main">
        <img
          src="https://images.unsplash.com/photo-1530288782965-fbad40327074?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1170&q=80"
          alt=""
          class="banner-image"
        />
        <header class="page-header">
          <hr>
          <div class="info-container">
            <div class="info-left">
              <h2 class="welcome-header">Vinyls</h2>
              <p class="header-text">Click on a vinyl to see the track-list and more information!</p>
            </div>
            <div class="info-right">
              <form method="GET" action="/vinyls/genre" class="filter-form">
                <label for="genre-selector">Filter By Genre</label>
                <select id="genre-selector" name="id" class="filter-selector">
                  <% genres.forEach(genre => { %>
                    <option value="<%= genre.genre_id %>"><%= genre.name %></option>
                  <% }) %>
                </select>
                <button class="btn filter-btn" type="submit">GO!</button>
              </form>
                <form method="GET" action="/vinyls/artist" class="filter-form">
                  <label for="artist-selector">Filter By Artist</label>
                  <select id="artist-selector" name="id" class="filter-selector">
                    <% artists.forEach(artist => { %>
                      <option value="<%= artist.artist_id %>"><%= artist.name %></option>
                    <% }) %>
                  </select>
                  <button class="btn filter-btn" type="submit">GO</button>
              </form>
              
            </div>
          </div>
          
          <hr>
          <div class="card-grid">

            <% for( let i = 0; i < vinyls.length; i++ ) { %>
                
                <article class="card">
                    <div class="card-header">
                      <img
                        class="card-image"
                        src=<%= vinyls[i].image_url || "https://plus.unsplash.com/premium_photo-1677589330346-7e71871d2ce5?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=435&q=80" %>
                        alt=""
                      />
                    </div>
                    <div class="card-body">
                      <h3 class="vinyl-name"><%= vinyls[i].name %></h3>
                      <h4 class="vinyl-artist"><%= vinyls[i].artist %></h4>
                      <h4 class="vinyl-year"><%= vinyls[i].year %> | <%= vinyls[i].genre %></h4>
                    </div>
                    <div class="card-footer">
                    </div>
                  </article>

            <% } %>
   
          </div>
        </header>
      </main>
    </div>
  </body>
  <script src="../navbar.js"></script>
</html>
